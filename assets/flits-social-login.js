if(window.flitsApp&&void 0!==window.flitsApp||(window.flitsApp={}),window.flitsApp.show_social_login_loading=function(){document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";var e=document.getElementsByClassName("flits-social-login-loading");e.length>0&&(e[0].style.display="block")},window.flitsApp.hide_social_login_loading=function(){document.body.style.overflow="initial",document.documentElement.style.overflow="initial";var e=document.getElementsByClassName("flits-social-login-loading");e.length>0&&(e[0].style.display="none")},window.flitsApp.isNull=function(e){return void 0===e||null==e||""==e.trim()},window.flitsApp.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},window.flitsApp.get_ajax_obj=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void 0},window.flitsApp.submitLoginform=function(e,t){var o=document.getElementById("customer_login");o.elements.namedItem("customer[email]").value=e,o.elements.namedItem("customer[password]").value=t,o.submit()},function(e,t){e=e||"docReady",t=t||window;var o=[],i=!1,n=!1;function a(){if(!i){i=!0;for(var e=0;e<o.length;e++)o[e].fn.call(window,o[e].ctx);o=[]}}function l(){"complete"===document.readyState&&a()}t[e]=function(e,t){if("function"!=typeof e)throw new TypeError("callback for docReady(fn) must be a function");i?setTimeout(function(){e(t)},1):(o.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(a,1):n||(document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):(document.attachEvent("onreadystatechange",l),window.attachEvent("onload",a)),n=!0))}}("flits_docReady",window),flits_docReady(function(){["#customer_login","#create_customer"].forEach(function(e){var t=document.querySelectorAll(e);if("object"==typeof t&&t)for(var o=0;o<t.length;o++){var i=t[o];if("function"!=typeof i.addEventListener&&!(i.offsetWidth>0&&i.offsetHeight>0))return;var n=i.parentElement.nextSibling,a=document.getElementById("flits-social-login-div").children[0];"function"==n.addEventListener?i.parentElement.insertBefore(a,n):i.parentElement.appendChild(a)}})}),window.flitsApp.isNull(window.flitsApp.getURLParameter("flits_error"))){var w=window.flitsApp.getURLParameter("w"),o=window.flitsApp.getURLParameter("o"),email=window.flitsApp.isNull(w)?null:atob(w),password=window.flitsApp.isNull(o)?null:atob(o);if(!window.flitsApp.isNull(email)&&!window.flitsApp.isNull(password)){window.flitsApp.show_social_login_loading();var ajax=window.flitsApp.get_ajax_obj(),URL="/account/login",params="customer[email]="+email;params+="&customer[password]="+password,ajax.onreadystatechange=function(){if(4==this.readyState&&200==this.status)if(this.responseURL.includes("account/login")){var e=window.flitsApp.get_ajax_obj(),t=document.getElementById("flits-reset-pass-url").value,o="email="+w;o+="&token="+document.getElementById("flits-token").value,e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);if(e.status){var t=e.o;password=window.flitsApp.isNull(t)?null:atob(t),window.flitsApp.isNull(password)||window.flitsApp.submitLoginform(email,password)}}},e.open("POST",t,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(o)}else window.flitsApp.submitLoginform(email,password)},ajax.open("POST",URL,!0),ajax.setRequestHeader("Content-type","application/x-www-form-urlencoded"),ajax.send(params)}}else if(!window.flitsApp.isNull(window.flitsApp.getURLParameter("flits_error"))){var div=document.getElementsByClassName("flits-social-login-error")[0],error=parseInt(window.flitsApp.getURLParameter("flits_error")),display_error="";switch(error){case 0:display_error="Some thing went wrong please try again.";break;case 1:display_error="Not verfied social login.";break;case 2:display_error="Social login uninstalled contact store admin.";break;case 3:display_error="Social login not installed correctly contact store admin.";break;case 4:display_error="Please authorize application to login.";break;case 5:display_error="Some thing went wrong please try again.";case 6:display_error="No email provided.";break;default:display_error="Some thing went wrong please try again."}div.innerHTML=display_error,div.style.display="block",history.pushState(null,null,"login")}